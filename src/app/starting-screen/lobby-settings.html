<form class="container">
    <h2 class="dialog-title">Create multiplayer game</h2>
    <mat-form-field appearance="outline" [style.width.%]=100>
        <mat-label>Select number of players</mat-label>
        <mat-select [(value)]="selectedNumberOfPlayers" name="numberOfPlayers">
            <mat-option *ngFor="let i of [1,2,3,4]" [value]="i"> {{i}} </mat-option>
        </mat-select>
    </mat-form-field>
    <mat-form-field *ngFor="let i of counter(selectedNumberOfPlayers)" appearance="outline" [style.width.%]=100>
        <mat-label>Other player's username</mat-label>
        <input matInput type="text" [formControl]="usernameFormControl" required>
        @if (usernameFormControl.hasError('minlength') && !usernameFormControl.hasError('required') ) {
        <mat-error>Username must be atleast <strong>3</strong> characters long</mat-error>
        }
        @if (usernameFormControl.hasError('maxlength')) {
        <mat-error>Username cannot exceed <strong>20</strong> characters</mat-error>
        }
        @if (usernameFormControl.hasError('required')) {
        <mat-error>Username is <strong>required</strong></mat-error>
        }
    </mat-form-field>
    <button mat-button color="primary" (click)="submitCreateLobby()">Create game</button>
    <button mat-button color="secondary" (click)="cancelLobby()">Cancel</button>
</form>